{"version":3,"file":"index.js","sources":["../src/svgs/svgs.tsx","../src/components/HostProfileModal.tsx","../src/components/MsgContainerHeader.tsx","../src/components/MsgContainerFooter.tsx","../src/components/MsgContainerMain.tsx","../src/utils/cookie.ts","../src/utils/SocketClient.ts","../src/components/MsgContainer.tsx","../src/components/WidgetContainer.tsx","../src/index.tsx"],"sourcesContent":["import * as React from 'react';\n\nexport const OpenLogo = (\n  <svg\n    width=\"100%\"\n    height=\"100%\"\n    viewBox=\"0 0 128 128\"\n    preserveAspectRatio=\"none\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g filter=\"url(#filter0_d_209_338)\">\n      <path\n        d=\"M102 60C102 80.9868 84.9868 98 64 98C43.0132 98 26 80.9868 26 60C26 39.0132 43.0132 22 64 22C84.9868 22 102 39.0132 102 60Z\"\n        fill=\"url(#paint0_linear_209_338)\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M73.8372 61.9006C73.4524 61.9103 73.0696 61.8429 72.7113 61.7023C72.353 61.5617 72.0265 61.3508 71.751 61.0821C71.4755 60.8133 71.2565 60.4921 71.1071 60.1374C70.9577 59.7828 70.8807 59.4017 70.8809 59.0169C70.881 58.632 70.9582 58.251 71.1078 57.8964C71.2575 57.5418 71.4766 57.2208 71.7523 56.9522C72.028 56.6836 72.3547 56.4729 72.7131 56.3326C73.0715 56.1922 73.4543 56.1251 73.8391 56.135C74.5909 56.1544 75.3054 56.4668 75.8302 57.0055C76.355 57.5442 76.6486 58.2666 76.6484 59.0187C76.6481 59.7708 76.3541 60.493 75.8289 61.0314C75.3037 61.5698 74.589 61.8817 73.8372 61.9006ZM64.6234 61.9006C64.2384 61.9103 63.8554 61.8428 63.4968 61.7022C63.1383 61.5615 62.8116 61.3505 62.5359 61.0815C62.2602 60.8126 62.0411 60.4912 61.8916 60.1363C61.7421 59.7814 61.6651 59.4001 61.6652 59.015C61.6653 58.6298 61.7426 58.2486 61.8923 57.8938C62.0421 57.539 62.2614 57.2177 62.5372 56.949C62.8131 56.6802 63.14 56.4694 63.4986 56.329C63.8572 56.1885 64.2403 56.1213 64.6253 56.1313C65.3776 56.1507 66.0926 56.4632 66.6178 57.0023C67.1429 57.5414 67.4367 58.2643 67.4365 59.0169C67.4362 59.7694 67.142 60.4921 66.6165 61.0309C66.091 61.5696 65.3758 61.8817 64.6234 61.9006ZM55.4078 61.9006C55.023 61.9103 54.6402 61.8429 54.2819 61.7023C53.9236 61.5617 53.5971 61.3508 53.3216 61.0821C53.0461 60.8133 52.8272 60.4921 52.6777 60.1374C52.5283 59.7828 52.4514 59.4017 52.4515 59.0169C52.4516 58.632 52.5288 58.251 52.6784 57.8964C52.8281 57.5418 53.0473 57.2208 53.3229 56.9522C53.5986 56.6836 53.9253 56.4729 54.2837 56.3326C54.6421 56.1922 55.0249 56.1251 55.4097 56.135C56.1615 56.1544 56.876 56.4668 57.4008 57.0055C57.9256 57.5442 58.2192 58.2666 58.219 59.0187C58.2187 59.7708 57.9247 60.493 57.3995 61.0314C56.8744 61.5698 56.1597 61.8817 55.4078 61.9006ZM64.4997 40.8125C53.5628 40.8125 44.6641 48.9012 44.6641 58.8444C44.6641 63.1006 46.4641 68.8925 51.4778 72.6313L50.8872 78.8075C50.865 79.0351 50.9052 79.2644 51.0034 79.4709C51.1016 79.6774 51.2542 79.8533 51.4448 79.9797C51.6353 80.1061 51.8567 80.1783 52.0852 80.1885C52.3136 80.1986 52.5405 80.1465 52.7416 80.0375L59.1747 76.5763C59.9753 76.6588 62.3266 76.8763 64.4997 76.8763C75.4366 76.8763 84.3353 68.7875 84.3353 58.8444C84.3353 48.9012 75.4366 40.8125 64.4997 40.8125Z\"\n        fill=\"white\"\n      />\n    </g>\n    <defs>\n      <filter\n        id=\"filter0_d_209_338\"\n        x=\"0\"\n        y=\"0\"\n        width=\"128\"\n        height=\"128\"\n        filterUnits=\"userSpaceOnUse\"\n        colorInterpolationFilters=\"sRGB\"\n      >\n        <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n        <feColorMatrix\n          in=\"SourceAlpha\"\n          type=\"matrix\"\n          values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n          result=\"hardAlpha\"\n        />\n        <feOffset dy=\"4\" />\n        <feGaussianBlur stdDeviation=\"13\" />\n        <feComposite in2=\"hardAlpha\" operator=\"out\" />\n        <feColorMatrix\n          type=\"matrix\"\n          values=\"0 0 0 0 0.554167 0 0 0 0 0.554167 0 0 0 0 0.554167 0 0 0 0.25 0\"\n        />\n        <feBlend\n          mode=\"normal\"\n          in2=\"BackgroundImageFix\"\n          result=\"effect1_dropShadow_209_338\"\n        />\n        <feBlend\n          mode=\"normal\"\n          in=\"SourceGraphic\"\n          in2=\"effect1_dropShadow_209_338\"\n          result=\"shape\"\n        />\n      </filter>\n      <linearGradient\n        id=\"paint0_linear_209_338\"\n        x1=\"31.5\"\n        y1=\"63.5\"\n        x2=\"110\"\n        y2=\"52.5\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#2F80ED\" />\n        <stop offset=\"0.0001\" stopColor=\"#2F80ED\" />\n        <stop offset=\"1\" stopColor=\"#70A0E0\" />\n      </linearGradient>\n    </defs>\n  </svg>\n);\n\nexport const CloseLogo = (\n  <svg\n    width=\"100%\"\n    height=\"100%\"\n    viewBox=\"0 0 128 128\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <g filter=\"url(#filter0_d_209_339)\">\n      <path\n        d=\"M102 60C102 80.9868 84.9868 98 64 98C43.0132 98 26 80.9868 26 60C26 39.0132 43.0132 22 64 22C84.9868 22 102 39.0132 102 60Z\"\n        fill=\"url(#paint0_linear_209_339)\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M52.5246 55.2188C52.5246 54.73 52.7158 54.2413 53.0771 53.8588C53.4355 53.5019 53.9207 53.3016 54.4264 53.3016C54.9322 53.3016 55.4174 53.5019 55.7758 53.8588L63.9996 62.0825L72.2021 53.8588C72.5605 53.5019 73.0457 53.3016 73.5514 53.3016C74.0572 53.3016 74.5424 53.5019 74.9008 53.8588C75.2577 54.2172 75.458 54.7024 75.458 55.2081C75.458 55.7139 75.2577 56.1991 74.9008 56.5575L65.3383 66.12C64.9799 66.4769 64.4947 66.6772 63.9889 66.6772C63.4832 66.6772 62.998 66.4769 62.6396 66.12L53.0771 56.5575C52.7158 56.1963 52.5246 55.7075 52.5246 55.2188Z\"\n        fill=\"white\"\n      />\n    </g>\n    <defs>\n      <filter\n        id=\"filter0_d_209_339\"\n        x=\"0\"\n        y=\"0\"\n        width=\"128\"\n        height=\"128\"\n        filterUnits=\"userSpaceOnUse\"\n        colorInterpolationFilters=\"sRGB\"\n      >\n        <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n        <feColorMatrix\n          in=\"SourceAlpha\"\n          type=\"matrix\"\n          values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n          result=\"hardAlpha\"\n        />\n        <feOffset dy=\"4\" />\n        <feGaussianBlur stdDeviation=\"13\" />\n        <feComposite in2=\"hardAlpha\" operator=\"out\" />\n        <feColorMatrix\n          type=\"matrix\"\n          values=\"0 0 0 0 0.554167 0 0 0 0 0.554167 0 0 0 0 0.554167 0 0 0 0.25 0\"\n        />\n        <feBlend\n          mode=\"normal\"\n          in2=\"BackgroundImageFix\"\n          result=\"effect1_dropShadow_209_339\"\n        />\n        <feBlend\n          mode=\"normal\"\n          in=\"SourceGraphic\"\n          in2=\"effect1_dropShadow_209_339\"\n          result=\"shape\"\n        />\n      </filter>\n      <linearGradient\n        id=\"paint0_linear_209_339\"\n        x1=\"31.5\"\n        y1=\"63.5\"\n        x2=\"110\"\n        y2=\"52.5\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#2F80ED\" />\n        <stop offset=\"0.0001\" stopColor=\"#2F80ED\" />\n        <stop offset=\"1\" stopColor=\"#70A0E0\" />\n      </linearGradient>\n    </defs>\n  </svg>\n);\n\nexport const HeaderLogo = (\n  <svg\n    width=\"100%\"\n    height=\"100%\"\n    viewBox=\"0 0 22 22\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M15.9799 11.747C15.7747 11.7522 15.5705 11.7162 15.3794 11.6412C15.1883 11.5662 15.0142 11.4538 14.8673 11.3104C14.7203 11.1671 14.6035 10.9958 14.5238 10.8066C14.4441 10.6175 14.4031 10.4143 14.4032 10.209C14.4033 10.0037 14.4444 9.80053 14.5242 9.61141C14.6041 9.4223 14.7209 9.25107 14.868 9.10783C15.015 8.96459 15.1892 8.85223 15.3804 8.77738C15.5715 8.70253 15.7757 8.6667 15.9809 8.672C16.3819 8.68236 16.7629 8.84895 17.0428 9.13627C17.3227 9.42358 17.4793 9.80888 17.4792 10.21C17.4791 10.6111 17.3222 10.9963 17.0421 11.2834C16.7621 11.5706 16.3809 11.7369 15.9799 11.747ZM11.0659 11.747C10.8606 11.7522 10.6563 11.7162 10.465 11.6412C10.2738 11.5661 10.0996 11.4536 9.95254 11.3102C9.8055 11.1667 9.68866 10.9953 9.60891 10.806C9.52916 10.6167 9.48811 10.4134 9.48817 10.208C9.48824 10.0026 9.52943 9.79927 9.6093 9.61003C9.68917 9.42079 9.80612 9.24945 9.95325 9.10612C10.1004 8.96279 10.2747 8.85036 10.466 8.77546C10.6572 8.70055 10.8616 8.6647 11.0669 8.67C11.4681 8.68036 11.8495 8.84706 12.1295 9.13457C12.4096 9.42207 12.5663 9.80761 12.5662 10.209C12.566 10.6104 12.4091 10.9958 12.1288 11.2831C11.8486 11.5704 11.4671 11.7369 11.0659 11.747ZM6.1509 11.747C5.94569 11.7522 5.74152 11.7162 5.55043 11.6412C5.35934 11.5662 5.18519 11.4538 5.03825 11.3104C4.89131 11.1671 4.77455 10.9958 4.69485 10.8066C4.61515 10.6175 4.57412 10.4143 4.57419 10.209C4.57425 10.0037 4.61541 9.80053 4.69524 9.61141C4.77506 9.4223 4.89193 9.25107 5.03897 9.10783C5.186 8.96459 5.36022 8.85223 5.55136 8.77738C5.7425 8.70253 5.94669 8.6667 6.1519 8.672C6.55288 8.68236 6.93395 8.84895 7.21384 9.13627C7.49374 9.42358 7.65032 9.80888 7.65019 10.21C7.65006 10.6111 7.49323 10.9963 7.21314 11.2834C6.93306 11.5706 6.55188 11.7369 6.1509 11.747ZM10.9999 0.5C5.1669 0.5 0.420898 4.814 0.420898 10.117C0.420898 12.387 1.3809 15.476 4.0549 17.47L3.7399 20.764C3.72807 20.8854 3.7495 21.0077 3.80189 21.1178C3.85427 21.228 3.93565 21.3218 4.03728 21.3892C4.13891 21.4566 4.25698 21.4951 4.37881 21.5005C4.50065 21.5059 4.62167 21.4781 4.7289 21.42L8.1599 19.574C8.5869 19.618 9.8409 19.734 10.9999 19.734C16.8329 19.734 21.5789 15.42 21.5789 10.117C21.5789 4.814 16.8329 0.5 10.9999 0.5Z\"\n      fill=\"#2F80ED\"\n    />\n  </svg>\n);\n\nexport const OnCircle = (\n  <svg\n    width=\"4\"\n    height=\"5\"\n    viewBox=\"0 0 4 5\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"2\" cy=\"2.5\" r=\"2\" fill=\"#71E07C\" />\n  </svg>\n);\n\nexport const OffCircle = (\n  <svg\n    width=\"4\"\n    height=\"5\"\n    viewBox=\"0 0 4 5\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"2\" cy=\"2.5\" r=\"2\" fill=\"#DDDDDD\" />\n  </svg>\n);\n\nexport const ModalCloseButton = (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M13.8151 12.0001L19.4661 6.34912C19.5775 6.23769 19.666 6.1054 19.7264 5.95978C19.7867 5.81417 19.8178 5.6581 19.8179 5.50047C19.8179 5.34284 19.7869 5.18675 19.7266 5.0411C19.6664 4.89546 19.578 4.76311 19.4666 4.65162C19.3551 4.54013 19.2228 4.45167 19.0772 4.39131C18.9316 4.33094 18.7755 4.29985 18.6179 4.2998C18.4603 4.29976 18.3042 4.33076 18.1585 4.39104C18.0129 4.45132 17.8805 4.53969 17.7691 4.65112L12.1181 10.3031L6.46605 4.65112C6.23841 4.43849 5.93706 4.32263 5.62561 4.32799C5.31416 4.33335 5.01698 4.4595 4.79678 4.67983C4.57658 4.90015 4.4506 5.19741 4.44543 5.50887C4.44026 5.82032 4.5563 6.1216 4.76905 6.34912L10.4211 12.0001L4.76905 17.6511C4.60201 17.8193 4.48843 18.0331 4.4426 18.2657C4.39677 18.4983 4.42073 18.7392 4.51147 18.9582C4.60221 19.1772 4.75568 19.3645 4.95258 19.4965C5.14947 19.6285 5.381 19.6994 5.61805 19.7001C5.92505 19.7001 6.23205 19.5831 6.46605 19.3491L12.1181 13.6971L17.7691 19.3491C17.8803 19.4608 18.0126 19.5494 18.1582 19.6098C18.3038 19.6703 18.4599 19.7014 18.6176 19.7014C18.7752 19.7014 18.9313 19.6703 19.0769 19.6098C19.2225 19.5494 19.3548 19.4608 19.4661 19.3491C19.5776 19.2377 19.6661 19.1053 19.7265 18.9596C19.7869 18.814 19.818 18.6578 19.818 18.5001C19.818 18.3424 19.7869 18.1863 19.7265 18.0406C19.6661 17.8949 19.5776 17.7626 19.4661 17.6511L13.8151 12.0001Z\"\n      fill=\"#626262\"\n    />\n  </svg>\n);\n","import * as React from 'react';\nimport { ModalCloseButton, OnCircle, OffCircle } from '../svgs';\nimport { useContext } from 'react';\nimport { Client } from '../index';\nimport { type HostProfileModalProps } from '../types/props';\n\nconst HostProfileModal = ({ setModalOpen, status }: HostProfileModalProps) => {\n  const client = useContext(Client);\n\n  const onCloseModal = () => {\n    setModalOpen(false);\n  };\n  return (\n    <div className={'Modal'} onClick={onCloseModal}>\n      <div className={'ModalContainer'}>\n        <div className={'ModalCloseButton'} onClick={onCloseModal}>\n          {ModalCloseButton}\n        </div>\n        <div className={'ModalProfileImg'}>\n          <img src={client?.profileImage} alt={'유저 프로필'} />\n        </div>\n        <div className={'ModalServiceName'}>{client?.serviceName}</div>\n        <div className={'ModalOnOff'}>\n          {status ? OnCircle : OffCircle}\n          {status ? '온라인' : '오프라인'}\n        </div>\n        <div className={'ModalDescription'}>{client?.description}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default HostProfileModal;\n","import { HeaderLogo, OnCircle } from '../svgs';\nimport * as React from 'react';\nimport { Client } from '../index';\nimport { useContext, useState } from 'react';\nimport HostProfileModal from './HostProfileModal';\n\nconst MsgContainerHeader = () => {\n  const client = useContext(Client);\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\n  const [isOnline, setIsOnline] = useState(false);\n\n  const onShowModal = () => {\n    const statusNode = document.querySelector('.MsgContainerHeaderOnOff')\n      ?.childNodes[1];\n    setIsOnline(statusNode?.nodeValue === '온라인');\n    setModalOpen(!modalOpen);\n  };\n\n  return (\n    <>\n      <div className={'MsgContainerHeader'}>\n        <div className={'MsgContainerHeaderLogo'}>{HeaderLogo}</div>\n        <div className={'MsgContainerHeaderContent'}>\n          <div className={'MsgContainerHeaderText'} onClick={onShowModal}>\n            <div className={'MsgContainerHeaderOnOff'}>{OnCircle}온라인</div>\n            {client?.serviceName}\n          </div>\n        </div>\n        <div className={'MsgContainerHeaderMenu'}></div>\n      </div>\n      {modalOpen && (\n        <HostProfileModal setModalOpen={setModalOpen} status={isOnline} />\n      )}\n    </>\n  );\n};\n\nexport default MsgContainerHeader;\n","import * as React from 'react';\nimport { type KeyboardEventHandler, useState } from 'react';\nimport { type MsgContainerFooterProps } from '../types/props';\n\nconst MsgContainerFooter = ({\n  roomName,\n  socketClient,\n}: MsgContainerFooterProps) => {\n  const [message, setMessage] = useState<string>();\n  const [hasValue, setHasValue] = useState<boolean>(false);\n\n  const onChangeMsgValue = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n    if (e.target.value.length !== 0) setHasValue(true);\n    else setHasValue(false);\n  };\n  const onSendMsg = () => {\n    console.log(hasValue);\n    console.log(message);\n    socketClient?.sendMessage(message);\n    setMessage('');\n    setHasValue(false);\n  };\n\n  const btnTextColor = {\n    color: hasValue ? '#2F80ED' : '#A7A7A7',\n  };\n\n  const onKeyPress: KeyboardEventHandler<HTMLTextAreaElement> = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      if (hasValue && roomName != null && socketClient != null) {\n        onSendMsg();\n      }\n    }\n  };\n  return (\n    <div className={'MsgContainerFooter'}>\n      <div className={'MsgContainerFooterTextBox'}>\n        <div className={'MsgContainerFooterText'}>\n          <textarea\n            value={message}\n            onKeyDown={onKeyPress}\n            onChange={onChangeMsgValue}\n            placeholder={'메시지 작성하기'}\n          />\n        </div>\n        <div\n          className={'MsgContainerFooterSendBtn'}\n          onClick={\n            hasValue && roomName != null && socketClient != null\n              ? onSendMsg\n              : undefined\n          }\n          style={btnTextColor}\n        >\n          전송\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MsgContainerFooter;\n","import * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport { type MsgContainerMainProps } from '../types/props';\n\nconst MsgContainerMain = ({ socketClient }: MsgContainerMainProps) => {\n  const targetRef = useRef<any>(null);\n\n  useEffect(() => {\n    let observer: IntersectionObserver | null = null;\n    if (socketClient !== null) {\n      observer = new IntersectionObserver(\n        (entries) => {\n          if (entries[0].isIntersecting && socketClient.getIsInitialized()) {\n            console.log('Intersection detected!');\n            socketClient.requestPastMessages();\n          }\n        },\n        { threshold: 0.5 }\n      );\n      observer.observe(targetRef.current);\n    }\n  }, [socketClient]);\n\n  return (\n    <div className={'MsgContainerMain'}>\n      <div\n        style={{\n          backgroundColor: 'black',\n          width: '100%',\n          height: '10px',\n        }}\n        ref={targetRef}\n      ></div>\n      <span className={'MsgContainerMainDate'}>3/15(수)</span>\n    </div>\n  );\n};\n\nexport default MsgContainerMain;\n","export const setCookie = (name: string, value: string, exp: number) => {\n  const date = new Date();\n  date.setTime(date.getTime() + exp * 24 * 60 * 60 * 1000);\n  document.cookie =\n    name + '=' + value + ';expires=' + date.toUTCString() + ';path=/';\n};\n\nexport const getCookie = (name: string) => {\n  const value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\n  return value != null ? value[2] : null;\n};\n","export class SocketClient {\n  private clientSocket: WebSocket | null;\n  private statusSocket: WebSocket | null;\n  private readonly cookie: string;\n  private readonly uuid: string | undefined;\n  private readonly name: string;\n  private readonly client: clientResult | undefined;\n  private oldestMsgDatetime: string | null;\n  private appendBack: boolean;\n  private isInitialized: boolean;\n\n  // private readonly components: React.ReactNode[] = [];\n\n  constructor(cookie: string, client: clientResult | undefined) {\n    this.cookie = cookie;\n    this.uuid = client?.uuid;\n    this.client = client;\n    this.clientSocket = null;\n    this.statusSocket = null;\n    this.oldestMsgDatetime = null;\n    this.appendBack = true;\n    this.isInitialized = false;\n  }\n\n  async connect() {\n    const root =\n      document.querySelector('.MsgContainerMain') ??\n      document.createElement('div');\n\n    let scrollPosition = 0;\n\n    root.addEventListener('scroll', () => {\n      scrollPosition = root.scrollTop;\n    });\n\n    await new Promise<void>((resolve, reject) => {\n      this.clientSocket = new WebSocket(\n        `wss://api.pintalk.app/ws/chat/${this.cookie}/`\n      );\n\n      // open event\n      this.clientSocket.addEventListener('open', () => {\n        console.log('Socket connected');\n        console.log(this.name);\n        resolve();\n      });\n\n      this.clientSocket.addEventListener('error', (error) => {\n        reject(error);\n      });\n\n      this.clientSocket.addEventListener('close', (event) => {\n        this.clientSocket = null;\n        console.log(\n          'client Socket disconnected',\n          event.wasClean,\n          event.code,\n          event.reason\n        );\n      });\n\n      this.clientSocket.addEventListener('message', (event) => {\n        const data = JSON.parse(event.data);\n        if (data.data !== undefined) {\n          // 다중 메시지\n          const items = data.data;\n          items.forEach((item: receivedMsg) => {\n            const msgContainer = this.createMsgBox(item);\n            if (this.appendBack) {\n              // 초기 소켓 연결 시 메시지 수신하는 경우\n              if (this.oldestMsgDatetime === null)\n                this.oldestMsgDatetime = item.datetime;\n              console.log(this.appendBack);\n              root.appendChild(msgContainer);\n              root.scrollTop = root.scrollHeight;\n            } else {\n              // request 로 과거 메시지 수신하는 경우\n              this.oldestMsgDatetime = item.datetime;\n              const base = root.firstChild;\n\n              if (base) {\n                root.insertBefore(msgContainer, base.nextSibling);\n                root.scrollTo(0, scrollPosition);\n              }\n            }\n          });\n          this.isInitialized = true;\n          this.appendBack = true;\n        } else {\n          // 단일 메시지\n          const msgContainer = this.createMsgBox(data);\n          if (this.appendBack) {\n            root.appendChild(msgContainer);\n            root.scrollTop = root.scrollHeight;\n          }\n        }\n      });\n\n      if (this.uuid !== undefined) {\n        this.statusSocket = new WebSocket(\n          `wss://api.pintalk.app/ws/status/${this.uuid}/`\n        );\n\n        this.statusSocket.addEventListener('open', () => {\n          console.log('status socket opened');\n        });\n\n        this.statusSocket.addEventListener('error', (error) => {\n          reject(error);\n        });\n\n        this.statusSocket.addEventListener('message', (event) => {\n          const data = JSON.parse(event.data);\n          console.log('status socket received:', data);\n\n          const isOnline = data.message === 'online';\n\n          const OnOff =\n            document.querySelector('.MsgContainerHeaderOnOff') ??\n            document.createElement('div');\n\n          const textNode = OnOff.childNodes[1];\n          textNode.nodeValue = isOnline ? '온라인' : '오프라인';\n\n          const color = isOnline ? '#71E07C' : '#DDDDDD';\n          OnOff.querySelector('svg circle')?.setAttribute('fill', color);\n\n          const ModalOnOff = document.querySelector('.ModalOnOff');\n          ModalOnOff?.querySelector('svg circle')?.setAttribute('fill', color);\n        });\n\n        this.statusSocket.addEventListener('close', (event) => {\n          this.statusSocket = null;\n          console.log(\n            'status Socket disconnected',\n            event.wasClean,\n            event.code,\n            event.reason\n          );\n        });\n      }\n    });\n  }\n\n  setAppendBack(appendBack: boolean) {\n    this.appendBack = appendBack;\n  }\n\n  getIsInitialized() {\n    return this.isInitialized;\n  }\n\n  createMsgBox(data: receivedMsg) {\n    const isHost = data.is_host;\n    const datetime = data.datetime;\n\n    // if (this.oldestMsgDatetime === null) this.oldestMsgDatetime = datetime;\n\n    const timeStamp = this.formatTimeStamp(datetime);\n    const msg = data.message;\n    const formatMsg = msg.replace(/\\n/g, '<br/>');\n    console.log('Socket received data:', data);\n\n    return this.createElement(isHost, timeStamp, formatMsg);\n  }\n\n  createElement(isHost: boolean, timeStamp: string, msg: string) {\n    const msgContainer = document.createElement('div');\n    const msgBox = document.createElement('div');\n\n    msgContainer.className = isHost ? 'MsgContainerLeft' : 'MsgContainerRight';\n\n    msgBox.innerHTML = msg;\n    msgBox.className = isHost ? 'ReceivedMsgBox' : 'SendMsgBox';\n\n    const msgTimeStamp = document.createElement('div');\n    msgTimeStamp.className = 'MsgTimeStamp';\n\n    const msgTimeStampText = document.createElement('div');\n    msgTimeStamp.appendChild(msgTimeStampText);\n    msgTimeStampText.innerHTML = timeStamp;\n\n    if (msgBox.className === 'ReceivedMsgBox') {\n      const hostProfile = document.createElement('div');\n      hostProfile.className = 'HostProfileBox';\n\n      const ProfileImg = document.createElement('img');\n      ProfileImg.src =\n        this.client?.profileImage != null\n          ? this.client?.profileImage\n          : 'https://www.figma.com/file/FfkwfY2NPbl4eufVPM5CLD/PinTalk_UI?node-id=209-209&t=jiqk5vYLsJX8R75e-4';\n\n      hostProfile.appendChild(ProfileImg);\n      msgContainer.appendChild(hostProfile);\n\n      msgContainer.appendChild(msgBox);\n      msgContainer.appendChild(msgTimeStamp);\n    } else if (msgBox.className === 'SendMsgBox') {\n      msgContainer.appendChild(msgTimeStamp);\n      msgContainer.appendChild(msgBox);\n    }\n\n    return msgContainer;\n  }\n\n  getDatetime() {\n    const now = new Date();\n    now.setHours(now.getHours() + 9);\n    return now.toISOString().substring(0, 19);\n  }\n\n  formatTimeStamp(datetime: string) {\n    const date: Date = new Date(datetime);\n\n    // 시간을 12시간제로 변환\n    let hours: number = date.getHours();\n    const ampm: string = hours >= 12 ? 'PM' : 'AM';\n    hours = hours % 12 || 12;\n    const min =\n      date.getMinutes().toString().length === 1\n        ? '0' + date.getMinutes().toString()\n        : date.getMinutes().toString();\n    // 변환된 시간 문자열\n    const timeString: string = `${ampm} ${hours}:${min}`;\n    return timeString;\n  }\n\n  sendMessage(data: any) {\n    if (\n      this.clientSocket != null &&\n      this.clientSocket.readyState === WebSocket.OPEN\n    ) {\n      const message = JSON.stringify({\n        type: 'chat_message',\n        is_host: false,\n        message: data,\n        datetime: this.getDatetime(),\n      });\n      console.log('Sending message:', message);\n      this.clientSocket.send(message);\n    } else {\n      console.log('Socket is not connected');\n    }\n  }\n\n  requestPastMessages() {\n    this.appendBack = false;\n    if (\n      this.clientSocket != null &&\n      this.clientSocket.readyState === WebSocket.OPEN\n    ) {\n      const oldest = this.oldestMsgDatetime;\n      this.oldestMsgDatetime = null;\n\n      if (oldest !== null) {\n        const message = JSON.stringify({\n          type: 'request',\n          is_host: false,\n          message: oldest,\n          datetime: this.getDatetime(),\n        });\n        console.log('Requesting past messages:', message);\n        this.clientSocket.send(message);\n      }\n    } else {\n      console.log('Socket is not connected');\n    }\n  }\n\n  disconnect() {\n    if (\n      this.clientSocket != null &&\n      this.clientSocket.readyState === WebSocket.OPEN\n    ) {\n      this.clientSocket.close();\n      this.statusSocket?.close();\n    }\n  }\n}\n","import * as React from 'react';\nimport MsgContainerHeader from './MsgContainerHeader';\nimport MsgContainerFooter from './MsgContainerFooter';\nimport MsgContainerMain from './MsgContainerMain';\nimport { useContext, useEffect, useState } from 'react';\nimport { SocketClient, getCookie, setCookie } from '../utils';\nimport axios, { type AxiosResponse } from 'axios';\nimport { Attribute, Client } from '../index';\n\nconst MsgContainer = () => {\n  const client = useContext(Client);\n  const attr = useContext(Attribute);\n  const [roomName, setRoomName] = useState<string | null>(\n    getCookie('name') != null ? getCookie('name') : null\n  );\n  const [socketClient, setSocketClient] = useState<SocketClient | null>(null);\n\n  const createChat = async () => {\n    try {\n      return await axios.post(\n        'https://api.pintalk.app/api/chat/',\n        {},\n        {\n          headers: {\n            Accept: 'application/json; version=1',\n            'X-PinTalk-Access-Key': attr?.accessKey,\n            'X-PinTalk-Secret-Key': attr?.secretKey,\n          },\n        }\n      );\n    } catch (error) {\n      console.log(error);\n      if (error.response.data.code === 401) {\n        throw new Error(error.response.data.detail);\n      }\n      throw new Error(error.response.data.detail);\n    }\n  };\n\n  useEffect(() => {\n    if (roomName == null) {\n      void createChat().then(async (r: AxiosResponse<chatResult>) => {\n        if (r != null) {\n          setCookie('name', r.data.name, 7);\n          setRoomName(getCookie('name'));\n        }\n      });\n    }\n\n    // TODO: 스트릭트 모드\n\n    console.log(client);\n    const socketClientInstance =\n      roomName != null ? new SocketClient(roomName, client) : null;\n    void socketClientInstance?.connect();\n    setSocketClient(socketClientInstance);\n\n    return () => {\n      void socketClientInstance?.disconnect();\n    };\n  }, [roomName]);\n\n  return (\n    <div className={'MsgContainer'}>\n      <MsgContainerHeader />\n      <MsgContainerMain socketClient={socketClient} />\n      <MsgContainerFooter roomName={roomName} socketClient={socketClient} />\n    </div>\n  );\n};\n\nexport default MsgContainer;\n","import * as React from 'react';\nimport '../styles/styles.scss';\nimport MsgContainer from './MsgContainer';\nimport { OpenLogo, CloseLogo } from '../svgs';\nimport { useState } from 'react';\n\nconst WidgetContainer = () => {\n  const [widgetOpen, setWidgetOpen] = useState<boolean>(false);\n\n  const onShowMessageContainer = () => {\n    setWidgetOpen(!widgetOpen);\n  };\n\n  return (\n    <>\n      <div className={'WidgetContainer'} onClick={onShowMessageContainer}>\n        {widgetOpen ? CloseLogo : OpenLogo}\n      </div>\n      {widgetOpen && <MsgContainer />}\n    </>\n  );\n};\n\nexport default WidgetContainer;\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport WidgetContainer from './components/WidgetContainer';\nimport axios from 'axios';\n\nexport const Client = React.createContext<clientResult | undefined>(undefined);\nexport const Attribute = React.createContext<attribute | undefined>(undefined);\n\nconst App = (obj: attribute) => {\n  const [client, setClient] = useState<clientResult>();\n  const clientInit = async (obj: attribute) => {\n    try {\n      return await axios.get('https://api.pintalk.app/api/users/client', {\n        headers: {\n          Accept: 'application/json; version=1',\n          'X-PinTalk-Access-Key': obj.accessKey,\n          'X-PinTalk-Secret-Key': obj.secretKey,\n        },\n      });\n    } catch (error) {\n      console.log(error);\n      if (error.response.data.code === 401) {\n        throw new Error(error.response.data.detail);\n      }\n      throw new Error(error.response.data.detail);\n    }\n  };\n\n  useEffect(() => {\n    void clientInit(obj).then((r) => {\n      setClient(r.data);\n    });\n  }, []);\n\n  return (\n    <Client.Provider value={client}>\n      <Attribute.Provider value={obj}>\n        <WidgetContainer />\n      </Attribute.Provider>\n    </Client.Provider>\n  );\n};\n\nexport default App;\n"],"names":["React","useContext","useState","useRef","useEffect","axios"],"mappings":"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"}